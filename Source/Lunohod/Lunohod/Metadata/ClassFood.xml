<Include>
    <Class Id="clsFood">
		<Food IsExploding="true">

<!-- States -->

            <!-- eaten -->
			<BoolTrigger Condition="!this:eaten">
				<IntersectionTrigger ObjectId1="hero" ObjectId2="this" EnterAction="this_anmEated.Start();this:+eaten;hero:+Eating" StayTriggered="false" />
			</BoolTrigger>
            <SequenceSet Id="this_anmEated">
				<Do Action="this.IsExploding=false" />
                <ParallelSet>
                    <NumAnimation Duration="0.2" Target="this.Opacity" Autoreverse="false" From="1" To="0" Fill="End" RepeatCount="5" InProgress="true"/>
                    <NumAnimation Duration="1" Target="this.X,this.Y" Autoreverse="false" From="this.X,this.Y" To="hero.X,hero.Y" Fill="End" RepeatCount="1" InProgress="true"/>
                    <Do Action="@pointsX=this.X;@pointsY=this.Y;@pointsText=100;hero:GotPoints" />
                </ParallelSet>
                <Do Action="this.Disable()"/>
            </SequenceSet>
            <!-- explosion  -->
            <!-- destroy -->
			<BoolTrigger Condition="this:BoomClose" EnterAction="this_setDestroy1.Start()" StayTriggered="true" Group="this_foodStates"/>
			<SequenceSet Id="this_setDestroy1">
                <Do Action="hero:+BadExplosion"/>
				<NumAnimation Target="this.Opacity" From="1" To="0" Duration="0.3" Autoreverse="false" RepeatCount="2"/>
				<Do Action="this.Disable()"/>
			</SequenceSet>

            <!-- quake -->
			<BoolTrigger Condition="this:BoomFar" EnterAction="this_setQuake1.Start()" StayTriggered="false" Group="this_foodStates"/>
			<SequenceSet Id="this_setQuake1" InProgress="false" RepeatCount="1">
				<NumAnimation Target="this.Rotation" From="-2" To="2" Duration="0.15" Autoreverse="false" RepeatCount="3" IsDelta="false"/>
			</SequenceSet>
			
			<BoolTrigger Id="this_default" Group="this_foodStates"/>
		</Food>	
	</Class>

</Include>












