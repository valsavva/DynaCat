<Include>	

	<Resources RootFolder="Sound">
		<SoundFile Id="sndExplosion" Source="skeletonFX_explosion"/>
		<SoundFile Id="sndBombHiss" Source="BombHiss"/>
	</Resources>

	<Resources RootFolder="Textures">
        <Texture Id="txrExplosion" Source="boom_new"/>
        <Texture Id="txrBomb" Source="bomb"/>
	</Resources>
    
    
	<Class Id="clsExplosion">
		<Explosion Bounds="0,0,400,400" Ranges="BoomVeryClose=50,BoomClose=85,BoomFar=170,BoomVeryFar=210,BoomVeryVeryFar=250">
			<Image Id="this_imgBomb" Bounds="190,190,24,18" TextureId="txrBomb" Opacity="0"/>
			<Image Id="this_imgExplosion" Bounds="75,96,250,208" TextureId="txrExplosion" Enabled="false"/>
			<Sound Id="this_sndExplosion" FileId="sndExplosion" Volume="0.5" Pitch="0" Pan="0"/>
			<Sound Id="this_sndBombHiss" FileId="sndBombHiss" Volume="0.5" Pitch="0" Pan="0"/>
			<SequenceSet InProgress="true">
				<Do Action="this_sndBombHiss.Start();hero:+WaitingExplosion"/>
				<NumAnimation Target="this_imgBomb.Opacity" From="1" To="0" Duration="0.1" Autoreverse="true" RepeatCount="4"/>
				<Do Action="this_imgBomb.Disable()"/>
				<Do Action="this_sndExplosion.Start();this_imgExplosion.Enable();this_sndBombHiss.Stop()"/>
				<ParallelSet InProgress="true">
					<SequenceSet InProgress="true">
						<Delay Duration="0.4"/>
						<Do Action="this.Explode()"/>
					</SequenceSet>
					<NumAnimation From="1" To="0" Smoothing="Flat" Duration="0.2" Autoreverse="false" Target="this_imgExplosion.Opacity" RepeatCount="2"/>
					<Delay Duration="0.6"/>
				</ParallelSet>
				<Do Action="hero:-WaitingExplosion"/>
				<Do Action="this.Disable()"/>
			</SequenceSet>
		</Explosion>
	</Class>
	
    <NumAnimation Id="anmScreenQuake" Target="X" From="-1" To="1" Duration="0.1" Autoreverse="true" RepeatCount="2" Fill="Reset" IsDelta="false"/>

</Include>












