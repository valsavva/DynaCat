<?xml version="1.0" encoding="utf-8"?>
<Level Name="testLevel1" Bounds="0,0,480,320">

	<!-- resources -->
	<Resources RootFolder="TestLevel1">
		<Texture Id="chargers" Source="chargers"/>
		<Texture Id="blank" Source="blank"/>
		<Texture Id="shipAnimation" Source="shipAnimation"/>
		<Texture Id="cat" Source="cat"/>
		<Texture Id="rat" Source="rat"/>
		<Texture Id="rat_walk" Source="rat_walk"/>
		<Texture Id="explosionSprite" Source="explosion"/>
	</Resources>
	
	<Resources RootFolder="Sound">
		<MusicFile Id="gameMusic" Source="gameMusic" />
		<SoundFile Id="explosion1" Source="explosion" />
		<SoundFile Id="explosion2" Source="explosion" />
		<SoundFile Id="explosion3" Source="explosion" />
		<SoundFile Id="laserFire" Source="laserFire" />
	</Resources>
	
	<Music FileId="gameMusic" Volume="0">
		<!-- <NumAnimation Target="Volume" From="0.05" To="0.3" Duration="0.0625" Autoreverse="true"/> -->
	</Music>
	
	<!-- background layer -->
	<Layer Id="background" BackColor="#FFFFFFFF">
		<Image TextureId="chargers" Opacity="0.2"/>
	</Layer>
	<!-- main layer -->
	<Layer Id="action" BackColor="#FFFFFFFF">
		<Tower Bounds="0,0,35,35" SignalSpeed="150"/>
		<Hero Bounds="200,0,40,37" Speed="50" Direction="0,0">
			<Image Id="imageHero" TextureId="cat" />
		</Hero>

		<Block Id="boxImage1" Bounds="25,75,50,50" DefaultEdge="None">
			<Image Id="image2" TextureId="chargers" Origin="25,25" Rotation="0" Opacity="1"/>

			<NumAnimation Id="boxImage1Animation" Target="Rotation" From="0" To="360" Duration="00:00:01" RepeatCount="2" Autoreverse="false">
				<ValueTrigger Property="boxImage2Animation.InProgress" Value="false" EnterAction="Start"/>
			</NumAnimation>
		</Block>

		<Block Id="boxImage2" Bounds="455,75,50,50" DefaultEdge="None">
			<Image Id="image2" TextureId="chargers" Origin="25,25" Rotation="0" pacity="1"/>

			<NumAnimation Id="boxImage2Animation" Target="Rotation" From="0" To="360" Duration="00:00:01" RepeatCount="2" Autoreverse="false" InProgress="false">
				<ValueTrigger Property="boxImage1Animation.InProgress" Value="false" EnterAction="Start"/>
			</NumAnimation>
		</Block>

		<Sprite Id="ratSprite" TextureId="rat_walk" Bounds="0,50,46,47" FrameBounds="0,0,46,47">
			<NumAnimation From="0" To="3" Duration="0.2" Autoreverse="false" Target="CurrentFrame" />
			<NumAnimation From="0" To="460" Duration="00:00:6" Autoreverse="false" Target="X"/>
		</Sprite>

		<Image Id="imageCat" TextureId="cat" Bounds="20,20,40,37" Origin="20,20" Rotation="0" Opacity="1">
			<NumAnimation From="0" To="400" Duration="00:00:8" Autoreverse="false" Target="X"/>
		</Image>

		<Image Id="imageCat1" TextureId="cat" Bounds="20,60,40,37" Origin="20,20" Rotation="0" Opacity="1">
			<NumAnimation From="0" To="400" Duration="00:00:8" Autoreverse="false" Target="X"/>
		</Image>

		<Image Id="imageRat" TextureId="rat" Bounds="400,20,40,41" Origin="20,20" Rotation="30" Opacity="1">
			<NumAnimation From="20" To="160" Duration="00:00:3" Autoreverse="true" Target="Y"/>
		</Image>

		<!--Group example-->		
		<Group Id="group1" Bounds="50,225,100,50">
			<Sequence Id="group1AnimationSequence" RepeatCount="1" InProgress="false">
				<ValueTrigger Property="ship.X" Compare="G" Value="100" EnterAction="Start"/>
				<NumAnimation Target="group1.X" From="0" To="50" Duration="0.3" RepeatCount="1" IsDelta="true" Autoreverse="true"/>
				<NumAnimation Target="group1.Y" From="0" To="50" Duration="0.3" RepeatCount="1" IsDelta="true" Autoreverse="true"/>
			</Sequence>
			<Image Id="imageA" TextureId="chargers" Bounds="25,0,50,50" />
			<!--black shadow-->
			<Image TextureId="chargers" Bounds="330,5,50,50" BackColor="#000000" />
			<Image Id="imageC" TextureId="chargers" Bounds="325,0,50,50" />
		</Group>		
		
		<Image Id="imageB" TextureId="chargers" Bounds="225,225,50,50" Origin="25,25" Rotation="0" Opacity="1">
			<NumAnimation Target="Rotation" From="0" To="360" Duration="00:00:02">
				<ValueTrigger Property="ship.X" Compare="G" Value="100" EnterAction="Pause"/>
				<ValueTrigger Property="ship.X" Compare="G" Value="200" EnterAction="Resume"/>
			</NumAnimation>
		</Image>
		

		<Image Id="imageRat2" TextureId="rat" Bounds="100,200,40,41" Origin="100,100" Rotation="0" Opacity="1">
			<NumAnimation From="0" To="360" Duration="00:00:2" Autoreverse="false" RepeatCount="3" Target="Rotation"/>
		</Image>

		<Sprite Id="ship" TextureId="shipAnimation" Bounds="0,250, 115, 69" FrameBounds="0,0,115,69" FrameCount="8">
			<NumAnimation From="0" To="7" Duration="00:00:00.3" Target="CurrentFrame"/>
			<NumAnimation From="-115" To="480" Duration="00:00:15" Autoreverse="false" Target="X"/>
		</Sprite>

		<Sprite Id="explosionSpriteInstance" TextureId="explosionSprite" Bounds="200,250,134,134" FrameBounds="0,0,134,134" FrameCount="12">
			<NumAnimation From="0" To="11" Duration="1" Autoreverse="false" Target="CurrentFrame" InProgress="false" RepeatCount="1">
				<ValueTrigger Property="ship.X" Compare="G" Value="100" EnterAction="Start"/>
			</NumAnimation>
		</Sprite>

		<Sound FileId="explosion1" Volume="0">
			<ValueTrigger Property="ship.X" Compare="G" Value="100" EnterAction="Play"/>
		</Sound>
		
		<Sound FileId="explosion2" Volume="0" Pitch="0.5" Pan="-1">
			<ValueTrigger Property="ship.X" Compare="G" Value="110" EnterAction="Play"/>
		</Sound>
		
		<Sound FileId="explosion3" Volume="0" Pitch="1" Pan="1">
			<ValueTrigger Property="ship.X" Compare="G" Value="120" EnterAction="Play"/>
		</Sound>
		
	</Layer>

	<Include File="Dashboard.xml" />	

</Level>


