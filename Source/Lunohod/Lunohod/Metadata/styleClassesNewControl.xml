<Include>	
	
	<!-- =========================================================================================  -->
	<!-- Sounds -->
	<!-- =========================================================================================  -->
	
	<Resources RootFolder="Sound">
		<SoundFile Id="skeletonFX_alarm_1" Source="skeletonFX_alarm_1"/>
		<SoundFile Id="skeletonFX_crash_1" Source="skeletonFX_crash_1"/>
		<SoundFile Id="skeletonFX_explosion" Source="skeletonFX_explosion"/>
		<SoundFile Id="skeletonFX_electric_spark_1" Source="skeletonFX_electric_spark_1"/>
		<SoundFile Id="skeletonFX_electric_spark_2" Source="skeletonFX_electric_spark_2"/>
		<SoundFile Id="skeletonFX_electric_spark_3" Source="skeletonFX_electric_spark_3"/>
		<SoundFile Id="skeletonFX_electric_spark_4" Source="skeletonFX_electric_spark_4"/>
		<SoundFile Id="skeletonFX_enemy_dead_scream_1" Source="skeletonFX_enemy_dead_scream_1"/>
		<SoundFile Id="skeletonFX_hero_eating_1" Source="skeletonFX_hero_eating_1"/>
		<SoundFile Id="skeletonFX_hero_eating_2" Source="skeletonFX_hero_eating_2"/>
		<SoundFile Id="skeletonFX_hero_eating_3" Source="skeletonFX_hero_eating_3"/>
		<SoundFile Id="skeletonFX_hero_eating_4" Source="skeletonFX_hero_eating_4"/>
		<SoundFile Id="skeletonFX_hero_killing_1" Source="skeletonFX_hero_killing_1"/>
		<SoundFile Id="skeletonFX_hero_killing_2" Source="skeletonFX_hero_killing_2"/>
		<SoundFile Id="skeletonFX_hero_metall_wall_1" Source="skeletonFX_hero_metall_wall_1"/>
		<SoundFile Id="skeletonFX_hero_wooden_wall_1" Source="skeletonFX_hero_wooden_wall_1"/>
		<SoundFile Id="skeletonFX_hero_wooden_wall_2" Source="skeletonFX_hero_wooden_wall_2"/>
		<SoundFile Id="skeletonFX_hero_wooden_wall_3" Source="skeletonFX_hero_wooden_wall_3"/>
		<SoundFile Id="skeletonFX_laughting_1" Source="skeletonFX_laughting_1"/>
		<SoundFile Id="skeletonFX_plick1" Source="skeletonFX_plick1"/>
		<SoundFile Id="skeletonFX_plick2" Source="skeletonFX_plick2"/>
		<SoundFile Id="skeletonFX_plick3" Source="skeletonFX_plick3"/>
		<SoundFile Id="skeletonFX_port_in" Source="skeletonFX_port_in"/>
		<SoundFile Id="skeletonFX_port_out" Source="skeletonFX_port_out"/>
		<SoundFile Id="skeletonFX_roket_start" Source="skeletonFX_roket_start"/>
	</Resources>

	
	               	
	<!-- =========================================================================================  -->
	<!-- clsTower -->
	<!-- =========================================================================================  -->
	
	<Class Id="clsTower">
		<Tower SignalSpeed="256"/>
	</Class>

	<!-- =========================================================================================  -->
	<!-- clsHero -->
	<!-- =========================================================================================  -->
	
    <Resources RootFolder="Textures">
        <Texture Id="cursor_50x50_light_blue" Source="bolbex-1"/>
        <Texture Id="cursor_50x50_blue" Source="bolbex-1"/>
    </Resources>
	
	<Class Id="clsHero">
		<Hero Speed="84" Direction="0,0">
			<BoolTrigger Condition="this.IsDead" EnterAction="this_setDying.Start()" StayTriggered="true" Group="heroStates">
				<Image Id="this_img1" TextureId="cursor_50x50_light_blue"/>
				<SequenceSet Id="this_setDying">
					<Do Action="hero.StartTransaction()"/>
					<ParallelSet>
						<Sound FileId="skeletonFX_crash_1" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
						<NumAnimation Duration="0.1" Target="this_img1.Opacity" Autoreverse="true" From="1" To="0" RepeatCount="5"/>
					</ParallelSet>
					<Do Action="hero.EndTransaction()"/>
					<Do Action="system.EndCurrentLevel()"/>
				</SequenceSet>

			</BoolTrigger>
			
			<BoolTrigger Condition="this:eating" EnterAction="fx_thisEating.Start()" StayTriggered="false">
				<RandomSet Id="fx_thisEating">
					<Sound FileId="skeletonFX_hero_eating_1" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
					<Sound FileId="skeletonFX_hero_eating_2" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
					<Sound FileId="skeletonFX_hero_eating_3" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
					<Sound FileId="skeletonFX_hero_eating_4" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
				</RandomSet>
			</BoolTrigger>
			
			<BoolTrigger Id="default" Group="heroStates">
				<Image TextureId="cursor_50x50_blue" Bounds="-3, -14, 40, 39">      <!-- 33, 25-->







<!-- RIGHT >>> -->
<TapArea Bounds="31,17,10,20" Event="system:right"/>
<TapArea Bounds="41,7,10,40" Event="system:right"/>
<TapArea Bounds="51,-3,10,60" Event="system:right"/>
<TapArea Bounds="61,-13,10,80" Event="system:right"/>
<TapArea Bounds="71,-23,10,100" Event="system:right"/>
<TapArea Bounds="81,-33,10,120" Event="system:right"/>
<TapArea Bounds="91,-43,10,140" Event="system:right"/>
<TapArea Bounds="101,-53,10,160" Event="system:right"/>
<TapArea Bounds="111,-63,10,180" Event="system:right"/>
<TapArea Bounds="121,-73,10,200" Event="system:right"/>
<TapArea Bounds="131,-83,10,220" Event="system:right"/>
<TapArea Bounds="141,-93,10,240" Event="system:right"/>
<TapArea Bounds="151,-103,10,260" Event="system:right"/>
<TapArea Bounds="161,-113,10,280" Event="system:right"/>
<TapArea Bounds="171,-123,10,300" Event="system:right"/>
<TapArea Bounds="181,-133,10,320" Event="system:right"/>
<TapArea Bounds="191,-143,10,340" Event="system:right"/>
<TapArea Bounds="201,-153,10,360" Event="system:right"/>
<TapArea Bounds="211,-163,10,380" Event="system:right"/>
<TapArea Bounds="221,-173,10,400" Event="system:right"/>
<TapArea Bounds="231,-183,10,420" Event="system:right"/>
<TapArea Bounds="241,-193,10,440" Event="system:right"/>
<TapArea Bounds="251,-203,10,460" Event="system:right"/>
<TapArea Bounds="261,-213,10,480" Event="system:right"/>
<TapArea Bounds="271,-223,10,500" Event="system:right"/>
<TapArea Bounds="281,-233,10,520" Event="system:right"/>
<TapArea Bounds="291,-243,10,540" Event="system:right"/>
<TapArea Bounds="301,-253,10,560" Event="system:right"/>
<TapArea Bounds="311,-263,10,580" Event="system:right"/>
<TapArea Bounds="321,-273,10,600" Event="system:right"/>
<TapArea Bounds="331,-283,10,620" Event="system:right"/>
<TapArea Bounds="341,-293,10,640" Event="system:right"/>
<TapArea Bounds="351,-303,10,660" Event="system:right"/>
<TapArea Bounds="361,-313,10,680" Event="system:right"/>
<TapArea Bounds="371,-323,10,700" Event="system:right"/>
<TapArea Bounds="381,-333,10,720" Event="system:right"/>
<TapArea Bounds="391,-343,10,740" Event="system:right"/>
<TapArea Bounds="401,-353,10,760" Event="system:right"/>
<TapArea Bounds="411,-363,10,780" Event="system:right"/>
<TapArea Bounds="421,-373,10,800" Event="system:right"/>
<TapArea Bounds="431,-383,10,820" Event="system:right"/>
<TapArea Bounds="441,-393,10,840" Event="system:right"/>
<TapArea Bounds="451,-403,10,860" Event="system:right"/>
<TapArea Bounds="461,-413,10,880" Event="system:right"/>
<TapArea Bounds="471,-423,10,900" Event="system:right"/>
<TapArea Bounds="481,-433,10,920" Event="system:right"/>
<TapArea Bounds="491,-443,10,940" Event="system:right"/>
<TapArea Bounds="501,-453,10,960" Event="system:right"/>
<!-- RIGHT <<< -->
<!-- LEFT >>> -->
<TapArea Bounds="1,17,10,20" Event="system:left"/>
<TapArea Bounds="-9,7,10,40" Event="system:left"/>
<TapArea Bounds="-19,-3,10,60" Event="system:left"/>
<TapArea Bounds="-29,-13,10,80" Event="system:left"/>
<TapArea Bounds="-39,-23,10,100" Event="system:left"/>
<TapArea Bounds="-49,-33,10,120" Event="system:left"/>
<TapArea Bounds="-59,-43,10,140" Event="system:left"/>
<TapArea Bounds="-69,-53,10,160" Event="system:left"/>
<TapArea Bounds="-79,-63,10,180" Event="system:left"/>
<TapArea Bounds="-89,-73,10,200" Event="system:left"/>
<TapArea Bounds="-99,-83,10,220" Event="system:left"/>
<TapArea Bounds="-109,-93,10,240" Event="system:left"/>
<TapArea Bounds="-119,-103,10,260" Event="system:left"/>
<TapArea Bounds="-129,-113,10,280" Event="system:left"/>
<TapArea Bounds="-139,-123,10,300" Event="system:left"/>
<TapArea Bounds="-149,-133,10,320" Event="system:left"/>
<TapArea Bounds="-159,-143,10,340" Event="system:left"/>
<TapArea Bounds="-169,-153,10,360" Event="system:left"/>
<TapArea Bounds="-179,-163,10,380" Event="system:left"/>
<TapArea Bounds="-189,-173,10,400" Event="system:left"/>
<TapArea Bounds="-199,-183,10,420" Event="system:left"/>
<TapArea Bounds="-209,-193,10,440" Event="system:left"/>
<TapArea Bounds="-219,-203,10,460" Event="system:left"/>
<TapArea Bounds="-229,-213,10,480" Event="system:left"/>
<TapArea Bounds="-239,-223,10,500" Event="system:left"/>
<TapArea Bounds="-249,-233,10,520" Event="system:left"/>
<TapArea Bounds="-259,-243,10,540" Event="system:left"/>
<TapArea Bounds="-269,-253,10,560" Event="system:left"/>
<TapArea Bounds="-279,-263,10,580" Event="system:left"/>
<TapArea Bounds="-289,-273,10,600" Event="system:left"/>
<TapArea Bounds="-299,-283,10,620" Event="system:left"/>
<TapArea Bounds="-309,-293,10,640" Event="system:left"/>
<TapArea Bounds="-319,-303,10,660" Event="system:left"/>
<TapArea Bounds="-329,-313,10,680" Event="system:left"/>
<TapArea Bounds="-339,-323,10,700" Event="system:left"/>
<TapArea Bounds="-349,-333,10,720" Event="system:left"/>
<TapArea Bounds="-359,-343,10,740" Event="system:left"/>
<TapArea Bounds="-369,-353,10,760" Event="system:left"/>
<TapArea Bounds="-379,-363,10,780" Event="system:left"/>
<TapArea Bounds="-389,-373,10,800" Event="system:left"/>
<TapArea Bounds="-399,-383,10,820" Event="system:left"/>
<TapArea Bounds="-409,-393,10,840" Event="system:left"/>
<TapArea Bounds="-419,-403,10,860" Event="system:left"/>
<TapArea Bounds="-429,-413,10,880" Event="system:left"/>
<TapArea Bounds="-439,-423,10,900" Event="system:left"/>
<TapArea Bounds="-449,-433,10,920" Event="system:left"/>
<TapArea Bounds="-459,-443,10,940" Event="system:left"/>
<TapArea Bounds="-469,-453,10,960" Event="system:left"/>
<!-- LEFT <<< -->
<!-- UP >>> -->
<TapArea Bounds="11,7,20,10" Event="system:up"/>
<TapArea Bounds="1,-3,40,10" Event="system:up"/>
<TapArea Bounds="-9,-13,60,10" Event="system:up"/>
<TapArea Bounds="-19,-23,80,10" Event="system:up"/>
<TapArea Bounds="-29,-33,100,10" Event="system:up"/>
<TapArea Bounds="-39,-43,120,10" Event="system:up"/>
<TapArea Bounds="-49,-53,140,10" Event="system:up"/>
<TapArea Bounds="-59,-63,160,10" Event="system:up"/>
<TapArea Bounds="-69,-73,180,10" Event="system:up"/>
<TapArea Bounds="-79,-83,200,10" Event="system:up"/>
<TapArea Bounds="-89,-93,220,10" Event="system:up"/>
<TapArea Bounds="-99,-103,240,10" Event="system:up"/>
<TapArea Bounds="-109,-113,260,10" Event="system:up"/>
<TapArea Bounds="-119,-123,280,10" Event="system:up"/>
<TapArea Bounds="-129,-133,300,10" Event="system:up"/>
<TapArea Bounds="-139,-143,320,10" Event="system:up"/>
<TapArea Bounds="-149,-153,340,10" Event="system:up"/>
<TapArea Bounds="-159,-163,360,10" Event="system:up"/>
<TapArea Bounds="-169,-173,380,10" Event="system:up"/>
<TapArea Bounds="-179,-183,400,10" Event="system:up"/>
<TapArea Bounds="-189,-193,420,10" Event="system:up"/>
<TapArea Bounds="-199,-203,440,10" Event="system:up"/>
<TapArea Bounds="-209,-213,460,10" Event="system:up"/>
<TapArea Bounds="-219,-223,480,10" Event="system:up"/>
<TapArea Bounds="-229,-233,500,10" Event="system:up"/>
<TapArea Bounds="-239,-243,520,10" Event="system:up"/>
<TapArea Bounds="-249,-253,540,10" Event="system:up"/>
<TapArea Bounds="-259,-263,560,10" Event="system:up"/>
<TapArea Bounds="-269,-273,580,10" Event="system:up"/>
<TapArea Bounds="-279,-283,600,10" Event="system:up"/>
<TapArea Bounds="-289,-293,620,10" Event="system:up"/>
<TapArea Bounds="-299,-303,640,10" Event="system:up"/>
<!-- UP <<< -->
<!-- DWN >>> -->
<TapArea Bounds="11,37,20,10" Event="system:down"/>
<TapArea Bounds="1,47,40,10" Event="system:down"/>
<TapArea Bounds="-9,57,60,10" Event="system:down"/>
<TapArea Bounds="-19,67,80,10" Event="system:down"/>
<TapArea Bounds="-29,77,100,10" Event="system:down"/>
<TapArea Bounds="-39,87,120,10" Event="system:down"/>
<TapArea Bounds="-49,97,140,10" Event="system:down"/>
<TapArea Bounds="-59,107,160,10" Event="system:down"/>
<TapArea Bounds="-69,117,180,10" Event="system:down"/>
<TapArea Bounds="-79,127,200,10" Event="system:down"/>
<TapArea Bounds="-89,137,220,10" Event="system:down"/>
<TapArea Bounds="-99,147,240,10" Event="system:down"/>
<TapArea Bounds="-109,157,260,10" Event="system:down"/>
<TapArea Bounds="-119,167,280,10" Event="system:down"/>
<TapArea Bounds="-129,177,300,10" Event="system:down"/>
<TapArea Bounds="-139,187,320,10" Event="system:down"/>
<TapArea Bounds="-149,197,340,10" Event="system:down"/>
<TapArea Bounds="-159,207,360,10" Event="system:down"/>
<TapArea Bounds="-169,217,380,10" Event="system:down"/>
<TapArea Bounds="-179,227,400,10" Event="system:down"/>
<TapArea Bounds="-189,237,420,10" Event="system:down"/>
<TapArea Bounds="-199,247,440,10" Event="system:down"/>
<TapArea Bounds="-209,257,460,10" Event="system:down"/>
<TapArea Bounds="-219,267,480,10" Event="system:down"/>
<TapArea Bounds="-229,277,500,10" Event="system:down"/>
<TapArea Bounds="-239,287,520,10" Event="system:down"/>
<TapArea Bounds="-249,297,540,10" Event="system:down"/>
<TapArea Bounds="-259,307,560,10" Event="system:down"/>
<TapArea Bounds="-269,317,580,10" Event="system:down"/>
<TapArea Bounds="-279,327,600,10" Event="system:down"/>
<TapArea Bounds="-289,337,620,10" Event="system:down"/>
<TapArea Bounds="-299,347,640,10" Event="system:down"/>
<!-- DWN <<< -->









				</Image>
			</BoolTrigger>
		</Hero>
	</Class>

	<!-- =========================================================================================  -->
	<!-- clsHeroTir -->
	<!-- =========================================================================================  -->
	
	<Class Id="clsHeroTir">
		<Hero Speed="1680" Direction="0,0">
			<BoolTrigger Id="this_default" Group="heroStates">
				<Image TextureId="cursor_50x50_blue"/>
			</BoolTrigger>
		</Hero>
	</Class>

	<!-- =========================================================================================  -->
	<!-- clsEnemy -->
	<!-- =========================================================================================  -->
	
    <Resources RootFolder="Textures">
        <Texture Id="cursor_50x50_red" Source="enemy_1"/>
        <Texture Id="cursor_50x50_purple" Source="enemy_1"/>
    </Resources>
         
	<Class Id="clsEnemy">
		<Enemy IsExploding="true" Damage="1">
			
			<BoolTrigger Condition="this:boomClose" EnterAction="this_setDestroyEnemy.Start();this_sndDeath.Start()" StayTriggered="false" Group="grpEnemyBoomStates">
				<Image TextureId="cursor_50x50_purple"/>
				<Sound Id="this_sndDeath" FileId="skeletonFX_enemy_dead_scream_1" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
			</BoolTrigger>
			<SequenceSet Id="this_setDestroyEnemy" InProgress="false">
				<NumAnimation Target="this.Opacity" From="1" To="0" Duration="0.3" Autoreverse="false" RepeatCount="2"/>
				<Do Action="this.Disable()"/>
			</SequenceSet>
			
   			<IntersectionTrigger ObjectId1="hero" ObjectId2="this" EnterAction="this.Attack();this_anmAttack.Start()" StayTriggered="false" Group="enemyStates">
                <Image Id="this_skin" TextureId="cursor_50x50_red"/>
			</IntersectionTrigger>
			<NumAnimation Id="this_anmAttack" Duration="0.1" Target="this_skin2.Opacity" Autoreverse="true" From="1" To="0" RepeatCount="5"/>
			<BoolTrigger Id="this_default" Group="enemyStates">
				<Image Id="this_skin2" TextureId="cursor_50x50_purple"/>
			</BoolTrigger>
		</Enemy>
	</Class>

	<!-- =========================================================================================  -->
	<!-- clsFood -->
	<!-- =========================================================================================  -->

    <Resources RootFolder="Textures">
        <Texture Id="cursor_50x50_green" Source="fish"/>
    </Resources>

	<Class Id="clsFood">
		<Food IsExploding="true">

			<BoolTrigger Condition="this:boomClose" EnterAction="this_setDestroy1.Start()" StayTriggered="true" Group="foodStates">
				<Image TextureId="cursor_50x50_green"/>
			</BoolTrigger>
			<SequenceSet Id="this_setDestroy1" InProgress="false">
				<NumAnimation Target="this.Opacity" From="1" To="0" Duration="0.3" Autoreverse="false" RepeatCount="2"/>
				<Do Action="this.Disable()"/>
			</SequenceSet>

			<BoolTrigger Condition="this:boomFar" EnterAction="this_setQuake1.Start()" StayTriggered="false" Group="foodStates">
				<Image TextureId="cursor_50x50_green"/>
			</BoolTrigger>
			<SequenceSet Id="this_setQuake1" InProgress="false" RepeatCount="1">
				<NumAnimation Target="this.X" From="-2" To="2" Duration="0.15" Autoreverse="false" RepeatCount="3" IsDelta="true"/>
			</SequenceSet>

			<IntersectionTrigger ObjectId1="hero" ObjectId2="this" EnterAction="this_anmEated.Start();hero:eating" StayTriggered="true" Group="foodStates">
				<Image TextureId="cursor_50x50_green">
					<SequenceSet InProgress="true">
                        <ParallelSet Id="this_anmEated">
                            <NumAnimation Duration="0.2" Target="this.Opacity" Autoreverse="false" From="1" To="0" Fill="End" RepeatCount="5" InProgress="true"/>
                            <NumAnimation Duration="1" Target="this.X,this.Y" Autoreverse="false" From="this.X,this.Y" To="hero.X,hero.Y" Fill="End" RepeatCount="1" InProgress="true"/>
                            
						</ParallelSet>
						<Do Action="this.Disable"/>
					</SequenceSet>
				</Image>
			</IntersectionTrigger>
			
			<BoolTrigger Id="this_default" Group="foodStates">
				<Image TextureId="cursor_50x50_green"/>
			</BoolTrigger>	
		</Food>	
	</Class>

	<!-- =========================================================================================  -->
	<!-- clsFoodPack -->
	<!-- =========================================================================================  -->

    <Resources RootFolder="Textures">
        <Texture Id="cursor_solid_50x50_red" Source="cursor_solid_50x50_red"/>
        <Texture Id="cursor_solid_50x50_green" Source="cursor_solid_50x50_green"/>
    </Resources>

	<Class Id="clsFoodPack">
		<Food IsExploding="true">

			<BoolTrigger Condition="this:boomVeryClose" EnterAction="this_setDestroy1.Start();this_GoodBoom.Start()" StayTriggered="true" Group="foodPackStates">
				<Image TextureId="cursor_solid_50x50_red"/>
				<Sound Id="this_GoodBoom" FileId="skeletonFX_laughting_1" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
			</BoolTrigger>
			<SequenceSet Id="this_setDestroy1" InProgress="false">
				<NumAnimation Target="this.Opacity" From="1" To="0" Duration="0.1" Autoreverse="false" RepeatCount="6"/>
				<Do Action="this.Disable()"/>
			</SequenceSet>

			<BoolTrigger Condition="this:boomClose" EnterAction="this_setDestroy2.Start()" StayTriggered="true" Group="foodPackStates">
				<Image TextureId="cursor_solid_50x50_green"/>
			</BoolTrigger>
			<SequenceSet Id="this_setDestroy2" InProgress="false">
				<NumAnimation Target="this.Opacity" From="1" To="0" Duration="0.3" Autoreverse="false" RepeatCount="2"/>
				<Do Action="this.Disable()"/>
			</SequenceSet>

			<BoolTrigger Condition="this:boomFar" EnterAction="this_setQuake1.Start()" StayTriggered="false" Group="foodPackStates">
				<Image TextureId="cursor_solid_50x50_green"/>
			</BoolTrigger>
			<SequenceSet Id="this_setQuake1" InProgress="false" RepeatCount="1">
				<NumAnimation Target="this.X" From="-2" To="2" Duration="0.15" Autoreverse="false" RepeatCount="3" IsDelta="true"/>
			</SequenceSet>

			<BoolTrigger Id="this_default" Group="foodPackStates">
				<Image TextureId="cursor_solid_50x50_green"/>
			</BoolTrigger>	
		</Food>	
	</Class>


	<!-- =========================================================================================  -->
	<!-- clsWoodenBox -->
	<!-- =========================================================================================  -->

    <Resources RootFolder="Textures">
        <Texture Id="cursor_50x50_brown" Source="cursor_50x50_brown"/>
    </Resources>
	<Class Id="clsWoodenBox">
		<Block IsExploding="true" Edges="Stick">

			<BoolTrigger Condition="this:boomClose" EnterAction="this_setDestroy1.Start()" StayTriggered="false" Group="grpBoxBoomStates">
				<Image TextureId="cursor_50x50_brown"/>
			</BoolTrigger>
			<SequenceSet Id="this_setDestroy1" InProgress="false">
				<NumAnimation Target="this.Opacity" From="1" To="0" Duration="0.3" Autoreverse="false" RepeatCount="2"/>
				<Do Action="this.Disable()"/>
			</SequenceSet>

			<BoolTrigger Condition="this:boomFar" EnterAction="this_setQuake1.Start()" StayTriggered="false" Group="grpBoxBoomStates">
				<Image TextureId="cursor_50x50_brown"/>
			</BoolTrigger>
			<SequenceSet Id="this_setQuake1" InProgress="false" RepeatCount="1">
				<NumAnimation Target="this.X" From="-1" To="1" Duration="0.15" Autoreverse="false" RepeatCount="3" IsDelta="true"/>
			</SequenceSet>

			<BoolTrigger Condition="this:boomVeryFar" EnterAction="this_setQuake2.Start()" StayTriggered="false" Group="grpBoxBoomStates">
				<Image TextureId="cursor_50x50_brown"/>
			</BoolTrigger>
			<SequenceSet Id="this_setQuake2" InProgress="false">
				<NumAnimation Target="this.X" From="-1" To="1" Duration="0.15" Autoreverse="false" RepeatCount="2" IsDelta="true"/>
			</SequenceSet>

			<BoolTrigger Condition="this:boomVeryVeryFar" EnterAction="this_setQuake3.Start()" StayTriggered="false" Group="grpBoxBoomStates">
				<Image TextureId="cursor_50x50_brown"/>
			</BoolTrigger>
			<SequenceSet Id="this_setQuake3" InProgress="false">
				<NumAnimation Target="this.X" From="-1" To="1" Duration="0.15" Autoreverse="false" RepeatCount="1" IsDelta="true"/>
			</SequenceSet>
			
			<BoolTrigger Id="this_default" Group="grpBoxStates">
				<Image TextureId="cursor_50x50_brown"/>
			</BoolTrigger>
		</Block>	
	</Class>

	<!-- =========================================================================================  -->
	<!-- clsExplosion --> <!-- This class is used to plant "bombs" -->	
	<!-- =========================================================================================  -->
	<Resources RootFolder="Textures">
        <Texture Id="cursor_solid_10x10_black_red" Source="cursor_solid_10x10_black_red"/>
        <Texture Id="cursor_R200_by_50_gray" Source="cursor_R200_by_50_gray"/>
	</Resources>
    
	<Class Id="clsExplosion">
		<Explosion Bounds="0,0,400,400" Ranges="boomVeryClose=50,boomClose=85,boomFar=170,boomVeryFar=210,boomVeryVeryFar=250">
			<Image Id="this_imgBomb" Bounds="190,190,20,20" TextureId="cursor_solid_10x10_black_red" Opacity="0"/>
			<Image Id="this_imgExplosion" Bounds="0,0,400,400" TextureId="cursor_R200_by_50_gray" Enabled="false"/>
			<Sound Id="this_sndExplosion" FileId="skeletonFX_explosion" Volume="0.5" Pitch="0" Pan="0"/>
			<Sound Id="this_sndAlarm" FileId="skeletonFX_alarm_1" Volume="0.5" Pitch="0" Pan="0"/>
			<SequenceSet InProgress="true">
				<Do Action="this_sndAlarm.Start()"/>
				<NumAnimation Target="this_imgBomb.Opacity" From="1" To="0" Duration="0.1" Autoreverse="true" RepeatCount="4"/>
				<Do Action="this_imgBomb.Disable()"/>
				<Do Action="this_sndExplosion.Start();this_imgExplosion.Enable()"/>
				<ParallelSet InProgress="true">
					<SequenceSet InProgress="true">
						<Delay Duration="0.4"/>
						<Do Action="this.Explode()"/>
					</SequenceSet>
					<NumAnimation From="1" To="0" Duration="0.2" Autoreverse="false" Target="this_imgExplosion.Opacity" RepeatCount="5"/>
				</ParallelSet>
				<Do Action="this.Disable()"/>
			</SequenceSet>
		</Explosion>
	</Class>
								
	<!-- =========================================================================================  -->
	<!-- clsExit -->
	<!-- =========================================================================================  -->

	<Class Id="clsExit">
		<Block>
			<Sound Id="this_RoketStart" FileId="skeletonFX_roket_start" Volume="0.5" Pitch="0" Pan="0" InProfress="true"/>
			<SequenceSet Id="this_setExit" InProgress="false">
				<Do Action="this_RoketStart.Start()"/>
				<Do Action="hero.StartTransaction()"/>
				<Do Action="hero.SetDirection(0,0)"/>
				<NumAnimation Target="this.Opacity" Duration="0.2" Autoreverse="false" From="1" To="0" InProgress="true" RepeatCount="10"/>
				<NumAnimation Target="this.Opacity" Duration="0.2" Autoreverse="false" From="1" To="1" InProgress="true" RepeatCount="1"/>
				<NumAnimation Target="this.X,this.Y,this.Rotation" Duration="2.5" Autoreverse="false" IsDelta="true" InProgress="true" RepeatCount="1" Fill="End">
					<KeyFrame Time="0" Value="0,0,0" Smoothing="Smooth"/>
					<KeyFrame Time="1" Value="0,-30,0" Smoothing="Smooth"/>
					<KeyFrame Time="1.5" Value="0,-100,0" Smoothing="Smooth"/>
					<KeyFrame Time="2.5" Value="-100,-400,-25" Smoothing="Smooth"/>
				</NumAnimation>
				<Do Action="hero.EndTransaction()"/>
				<Do Action="system.EndCurrentLevel()"/>
			</SequenceSet>
			<IntersectionTrigger ObjectId1="hero" ObjectId2="this" EnterAction="this_setExit.Start()"/>
		</Block>	
	</Class>

</Include>






